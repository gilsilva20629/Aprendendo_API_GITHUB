<!DOCTYPE html>

<html>
	<head>
		<script src="./modulos/js/funcoesGerais.js">
		// src atributo importa com escopo global sem a necessidade de type='module' e sem export na origem. 	

			let selected_option = "user";
			const elements_Cad_Client = window.document.getElementsByClassName("Cad-Client");
			const elements_Cad_Product = window.document.getElementsByClassName("Cad-Product");
			const elements_Cad_User = window.document.getElementsByClassName("Cad-User");

			function setOption(value){
				feedbackClear();
				selected_option = this.value; // 'this' refere-se ao elemento no caso o 'select' que disparou o evento
				//console.log(selected_option);
				disableElement();
			}

			function disableElement(){
				if(selected_option == "user"){

					for(key in elements_Cad_Client){
						elements_Cad_Client[key].disabled = true;
					}
					
					for(key in elements_Cad_Product){
						elements_Cad_Product[key].disabled = true;	// verificar
					}

					for(key in elements_Cad_User){
						elements_Cad_User[key].disabled = false;
					}					

				}else if(selected_option == "client"){

					for(key in elements_Cad_User){
							elements_Cad_User[key].disabled = true;
						}

					for(key in elements_Cad_Product){
						elements_Cad_Product[key].disabled = true; // verificar
					}
					for(key in elements_Cad_Client){
						elements_Cad_Client[key].disabled = false;
					}					

				}else{

					for(key in elements_Cad_User){
							elements_Cad_User[key].disabled = true;
						}

					for(key in elements_Cad_Client){
						elements_Cad_Client[key].disabled = true;
					}

					for(key in elements_Cad_Product){
						elements_Cad_Product[key].disabled = false;
					}					
				}
			}

		</script>
			
		<script type="module"> // import com escopo local necessário 'export' na origem.
			// javascript  
			import VMvalidateForm from "./modulos/js/funcoesGerais.js";

			window.VMvalidateForm = VMvalidateForm; // tornando a função de local para global escopo.

		</script>
		
		<style>
			/*
			<link rel="stylesheet" href="styles.css">
		
			CSS can be added to HTML documents in 3 ways:

			Inline - by using the style attribute inside HTML elements
			Internal - by using a <style> element in the <head> section
			External - by using a <link> element to link to an external CSS file
			*/
			div {
				border: 2px solid black;
				margin: 20px;
				padding: 20px;
				/*
				color: red;
  				font-family: courier;
  				font-size: 160%;
  				background-color: lightblue;
  				text-align: center;
  				*/
			}
			form {

			}

			.p{	/* quando tem o ponto no começo é style para uma classe.

			}

		</style>

		<meta charset="utf-8">
		<!-- tag abaixo é prática recomendada para páginas web modernas, para adptar a telas diferentes. -->
		<meta name="viewport" content="width=device-width, initial-scale=1"> 
		<title>Cadastro</title>
		
	</head>

	<body>
		<h1>CADASTROS GERAIS DO SISTEMA</h1>
		<br>
		<a href="https://gilsilva20629.github.io/Aprendendo_API_GITHUB/" target="_self">login</a>

		<div>
			<p>Tipo de Cadastro:</p>
			<select name="type-cad" id="type-cad">
				<option class="select" value="user">Cadastro Usuario</option>
				<option class="select" value="client">Cadastro Cliente</option>
				<option class="select" value="product">Cadastro Produto</option>
			</select>
		</div>
		<script >
			const selector = window.document.getElementById("type-cad");
			selector.addEventListener("change", setOption);
		</script>

	<!--
		<script>

			seletor = window.document.getElementsByTagName("option");
			//console.log(seletor);
			//console.log(seletor.length);
			//console.log(typeof seletor);
			
			for (i = 0;  i < seletor.length ; i++) {
				//console.log(seletor[i].value);

				if(seletor[i].selected){
					selected_option = seletor[i].value;

				/*
					for(k in seletor[i]){ // listar propriedades do elemento.
						//console.log('${k}: ${seletor[i][k]}');
						//console.log(k, ":", seletor[i][k]); // Essa funciona.

						
						if (seletor[i].hasOwnProperty(k)) { // hasOwnProperty() Verifica se a propriedade é do próprio objeto
							console.log("${k}: ${seletor[i][k]}");
							console.log(k, ":", seletor[i][k]);
						}
						
					}
					//console.log("Selecionado: ", seletor[i].innerHTML);
					//console.log("Selecionado: ", seletor[i].innerText);
					//console.log("Selecionado: ", seletor[i].value);
				*/
				}
			}
			
		</script> 
	-->


		<!--tag_div_atributos:

			Atributo	Descrição
			id			Um identificador único para o elemento, usado para estilização ou scripts.
			class		Uma ou mais classes que podem ser usadas para aplicar estilos CSS.
			style		Permite aplicar estilos CSS inline diretamente ao elemento.
			title		Um texto que aparece como uma dica quando o mouse passa sobre o elemento.
			data-*		Atributos personalizados que podem armazenar informações adicionais.
			lang		Define o idioma do conteúdo dentro da <div>.
			tabindex	Define a ordem de tabulação do elemento quando o usuário navega com o teclado.
			hidden		Indica que o elemento deve ser oculto.
		-->

		<p style="color: blue; background-color: yellow;">Cadastro de Usuários</p>
		<div id="div-user">
			<!-- tag_form_atributos:
				Atributo		Descrição
				action			A URL para a qual os dados do formulário serão enviados quando submetidos.
				method			O método HTTP a ser usado ao enviar os dados (GET ou POST).
				enctype			O tipo de codificação a ser usado ao enviar o formulário (ex: application/x-www-form-urlencoded, multipart/form-data).
				target			Especifica onde abrir a resposta após o envio do formulário (ex: _blank, _self).
				name			Um nome para o formulário, que pode ser usado em scripts.
				id				Um identificador único para o formulário, usado para estilização ou scripts.
				autocomplete	Indica se o navegador deve habilitar o preenchimento automático dos campos do formulário (on ou off).
				novalidate		Indica que o formulário não deve ser validado ao ser enviado.
				accept-charset	Especifica quais conjuntos de caracteres são aceitos ao enviar o formulário.
				onsubmit		chama função ao submeter formulario.
			-->	
			<form action="http://127.0.0.1:5000/my_endpoint" method="POST" target="_blank" name="form-user" id="form-user" onsubmit="validateForm(event)">
				<label>User</label> <br>
				<input class="Cad-User" type="text" name="user" id="user" value="" required> <br>
				<label>Password</label> <br>
				<input class="Cad-User" type="text" name="password" id="password" value="" required> <br>
				<label>Type</label> <br>
				<input class="Cad-User" type="text" name="type" id="type" value="" required> <br>
				<input type="hidden" name="op_type" value="2.1"> <br>

				<br>
				<input class="Cad-User" type="submit" value="Submit Form">
				<p id="frm-user" style="color: 1px solid red;"></p>
			</form>
		</div>

		<p style="color: blue; background-color: yellow;">Cadastro de Clientes</p>
		<div id="div-client">
			<!-- tag_form_atributos:
				Atributo		Descrição
				action			A URL para a qual os dados do formulário serão enviados quando submetidos.
				method			O método HTTP a ser usado ao enviar os dados (GET ou POST).
				enctype			O tipo de codificação a ser usado ao enviar o formulário (ex: application/x-www-form-urlencoded, multipart/form-data).
				target			Especifica onde abrir a resposta após o envio do formulário (ex: _blank, _self).
				name			Um nome para o formulário, que pode ser usado em scripts.
				id				Um identificador único para o formulário, usado para estilização ou scripts.
				autocomplete	Indica se o navegador deve habilitar o preenchimento automático dos campos do formulário (on ou off).
				novalidate		Indica que o formulário não deve ser validado ao ser enviado.
				accept-charset	Especifica quais conjuntos de caracteres são aceitos ao enviar o formulário.
				onsubmit		chama função ao submeter formulario.
			-->	
			<form action="http://127.0.0.1:5000/my_endpoint" method="POST" target="_blank" name="form-client" id="form-client" onsubmit="validateForm(event)">
				<label>Nome</label> <br>
				<input class="Cad-Client" type="text" name="client" id="client" value="" required disabled> <br>
				<label>Endereço</label> <br>
				<input class="Cad-Client" type="text" name="address" id="address" value="" required disabled> <br>
				<label>Contato</label> <br>
				<input class="Cad-Client" type="text" name="contact" id="contact" value="" required disabled> <br>
				<input type="hidden" name="op_type" value="2.2"> <br>

				<br>
				<input class="Cad-Client" type="submit" value="Submit Form">
				<p id="frm-client" style="color: 1px solid red;"></p>	
			</form>
		</div>

		<p style="color: blue; background-color: yellow">Cadastro de Produtos</p>
		<div>
			<form action="http://127.0.0.1:5000/my_endpoint" method="POST" target="_blank" name="form-product" 
			id="form-product" onsubmit="window.VMvalidateForm(event)">

				<!-- input types:
					<input type="button">
					<input type="checkbox">
					<input type="color">
					<input type="date">
					<input type="datetime-local">
					<input type="email">
					<input type="file">
					<input type="hidden">
					<input type="image">
					<input type="month">
					<input type="number">
					<input type="password">
					<input type="radio">
					<input type="range">
					<input type="reset">
					<input type="search">
					<input type="submit">
					<input type="tel">
					<input type="text"> (default value)
					<input type="time">
					<input type="url">
					<input type="week">
				-->

				<label>Product Name</label> <br>
				<input class="Cad-Product" type="text" id="produto-name" name="produto-name" value="" required disabled> <br>
				<label>Category</label> <br>
				<input class="Cad-Product" type="text" id="category" name="category" value="" required disabled> <br>
				<label>Unit</label> <br>
				<input class="Cad-Product" type="text" id="unit" name="unit" value="" required disabled> <br>
				<input type="hidden" name="op_type" value="2.3">
				<br>
				<input class="Cad-Product" type="submit" value="submit form">
				<p id="frm-product" style="color: 1px solid red;"></p>
			</form>
		</div>
	</body>
</html>